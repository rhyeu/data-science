<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: 데이터 과학</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-59802572-17', 'auto');
      ga('send', 'pageview');
    
    </script>
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 class="title">데이터 과학</h1>
          <h2 class="subtitle">R 언어</h2>
<section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="학습-목표"><span class="glyphicon glyphicon-certificate"></span>학습 목표</h2>
</div>
<div class="panel-body">
<ul>
<li>R 언어의 역사를 이해한다.</li>
<li>통계 팩키지와 다른 데이터과학 언어를 R 언어과 비교한다.</li>
<li>사용자와 개발자를 나누는 사회적 장벽을 이해하고, 두언어 문제를 살펴본다.</li>
<li>R 언어 시작과 끝을 맛본다.</li>
</ul>
</div>
</section>
<h3 id="통계팩키지-sasspssstata-주요-구성요소-비교-r4sas-spss">1. 통계팩키지 SAS/SPSS/Stata 주요 구성요소 비교 <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></h3>
<p>R은 현존하는 가장 강력한 통계 컴퓨팅 언어로, 그래픽과 자료분석을 위해 언어 + 팩키지 + 환경이 하나로 묶여있다. 특히, 컴퓨터 주기억장치 한계가 존재하지만, 오픈 소스로 모든 코드가 공개되어 있어 자유로이 이용이 가능하다. R은 John Chambers가 주축이 되어 벨연구소에서 개발된 유닉스와 역사를 함께하는 S을 Ross Ihaka 와 Robert Gentleman이 1996년 구현하여 대중에게 공개하였다.</p>
<p>자료분석을 위해 대중에게 널리 알려진 통계팩키지에는 SAS, SPSS, Stata, Minitab 등 상업용으로 많이 판매되고 있다. 어떤 통계팩키지도 다음과 같은 공통된 5가지 구성요소를 포함하고 있다.</p>
<ul>
<li>데이터 입력과 조작 언어</li>
<li>통계와 그래픽 명령어</li>
<li>출력물 관리 시스템</li>
<li>매크로 언어</li>
<li>행렬 언어(SAS IML/SPSS Matrix/Stata Mata)</li>
</ul>
<p>이와 비교하여 R은 5가지 구성요소가 <strong>언어 + 팩키지 + 환경</strong> 으로 구성된다는 점에서 차이가 크다.</p>
<h3 id="두-언어-문제-ousterhout-dichotomy">2. 두 언어 문제 <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></h3>
<iframe width="320" height="200" src="https://www.youtube.com/embed/B9moDuSYzGo" frameborder="0" allowfullscreen>
</iframe>
<p><a href="https://www.youtube.com/watch?v=B9moDuSYzGo">ODSC East 2016 - Stefan Karpinski - “Solving the Two Language Problem”</a></p>
<table>
<thead>
<tr class="header">
<th align="left">시스템 언어</th>
<th align="left">Ousterhout 이분법</th>
<th align="left">스크립트 언어</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">정적</td>
<td align="left">–</td>
<td align="left">동적</td>
</tr>
<tr class="even">
<td align="left">컴파일</td>
<td align="left">–</td>
<td align="left">인터프리터</td>
</tr>
<tr class="odd">
<td align="left">사용자정의 자료형</td>
<td align="left">–</td>
<td align="left">표준 자료형</td>
</tr>
<tr class="even">
<td align="left">빠른 속도</td>
<td align="left">–</td>
<td align="left">늦은 속도</td>
</tr>
<tr class="odd">
<td align="left">어려움</td>
<td align="left">–</td>
<td align="left">쉬움</td>
</tr>
</tbody>
</table>
<p>두 언어 문제로 인해 편리함을 위해 파이썬, R, Matlab을 사용하고 C/C++, 포트란 시스템 언어로 모든 힘든 작업을 수행한다. 시스템 언어와 스크립트 언어의 두가지 문제점을 해결하기 위해서 두가지 다른 언어의 장점을 취하고 이를 보완하려는 노력이 지속적으로 경주되고 있다.</p>
<p><img src="fig/data-scientist-languages.png" alt="데이터 과학자 언어" width="50%"></p>
<p>과거 데이터 과학자가 선형대수, 통계&amp;시각화, 속도, 통합작업과 관련하여 다양한 언어와 도구를 익혀야 했지만, 2010년 중반을 넘어서는 현시점에서 파이썬과 R을 함께 사용하는 것으로 중지가 모아지고 있다.</p>
<h3 id="왜-r-언어인가-r-rank-r-r4stats">3. 왜 R 언어인가? <a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> <a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a></h3>
<p><a href="http://www.rexeranalytics.com/">Rexer Analytics</a>가 2015년 응답자 1,220명을 대상으로 실시한 결과 R이 데이터 분석 소프트웨어 분야에서 압도적인 1위 위치를 점유하고 있음을 확인할 수 있다.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><img src="fig/rexersurveyalltools2015.png" alt="Rexer Analytics 설문조사 2015 (응답자 1,220)" width="70%"></td>
<td align="left"><img src="fig/ieee-r-ranking.png" alt="IEEE 조사" width="70%"></td>
</tr>
</tbody>
</table>
<h3 id="r-시작과-끝-맛보기">4. R 시작과 끝 (맛보기)</h3>
<p>R이 설치되고, 필요한 패키지가 준비되면 분석에 사용할 데이터를 작업 메모리상에 올려야 한다. 분석 데이터를 R 작업공간에 준비하는 방법은 어려가지가 있다. Web URL을 활용한 웹 데이터를 가져오거나, <code>read.table</code>을 이용한 로컬 디스크 상의 데이터를 메모리로 불러올 수 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">abalone &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">url</span>(<span class="st">&quot;http://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data&quot;</span>), <span class="dt">header=</span>F)
<span class="kw">names</span>(abalone) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sex&quot;</span>,<span class="st">&quot;Length&quot;</span>,<span class="st">&quot;Diameter&quot;</span>,<span class="st">&quot;Height&quot;</span>,<span class="st">&quot;Whole weight&quot;</span>,<span class="st">&quot;Shucked weight&quot;</span>,<span class="st">&quot;Viscera weight&quot;</span>,<span class="st">&quot;Shell weight&quot;</span>,<span class="st">&quot;Rings&quot;</span>)
<span class="kw">head</span>(abalone)</code></pre></div>
<pre class="output"><code>FALSE   Sex Length Diameter Height Whole weight Shucked weight Viscera weight
FALSE 1   M  0.455    0.365  0.095       0.5140         0.2245         0.1010
FALSE 2   M  0.350    0.265  0.090       0.2255         0.0995         0.0485
FALSE 3   F  0.530    0.420  0.135       0.6770         0.2565         0.1415
FALSE 4   M  0.440    0.365  0.125       0.5160         0.2155         0.1140
FALSE 5   I  0.330    0.255  0.080       0.2050         0.0895         0.0395
FALSE 6   I  0.425    0.300  0.095       0.3515         0.1410         0.0775
FALSE   Shell weight Rings
FALSE 1        0.150    15
FALSE 2        0.070     7
FALSE 3        0.210     9
FALSE 4        0.155    10
FALSE 5        0.055     7
FALSE 6        0.120     8
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#   Sex Length Diameter Height Whole weight Shucked weight  Viscera weight Shell weight Rings</span>
<span class="co"># 1   M  0.455    0.365  0.095       0.5140         0.2245          0.1010        0.150    15</span>
<span class="co"># 2   M  0.350    0.265  0.090       0.2255         0.0995          0.0485        0.070     7</span>
<span class="co"># 3   F  0.530    0.420  0.135       0.6770         0.2565          0.1415        0.210     9</span>
<span class="co"># 4   M  0.440    0.365  0.125       0.5160         0.2155          0.1140        0.155    10</span>
<span class="co"># 5   I  0.330    0.255  0.080       0.2050         0.0895          0.0395        0.055     7</span>
<span class="co"># 6   I  0.425    0.300  0.095       0.3515         0.1410          0.0775        0.120     8</span></code></pre></div>
<p>분석을 진행하기 위해서 간단한 R 스크립트를 작성하여 보자. 메뉴상단의 <code>File &gt; New File &gt; R Script</code> 혹은 <code>CTRL+SHIFT+N</code> 단축키를 사용하여 데이터 분석 결과를 스크립트로 작성하여 저장할 수 있다. 분석이 완료된 스크립트는 <code>SimpleR.R</code>로 저장한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 기본 분석 스크립트</span>
<span class="co"># abalone &lt;- read.csv(&quot;abalone.csv&quot;)</span>
<span class="kw">table</span>(abalone$Sex)</code></pre></div>
<pre class="output"><code>FALSE 
FALSE    F    I    M 
FALSE 1307 1342 1528
</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(Length ~<span class="st"> </span>Sex, <span class="dt">data=</span>abalone)</code></pre></div>
<p><img src="fig/r-lang-table-plot-1.png" title="plot of chunk r-lang-table-plot" alt="plot of chunk r-lang-table-plot" style="display: block; margin: auto;" /></p>
<p>자료 분석 결과는 코드, 데이터, 그래프, 테이블로 나타나게 되며, 이를 하나의 문서로 각각 정리하는 것은 매우 수고스러운 일이며 기본적으로 기계나 컴퓨터가 해야되는 일중의 하나이다. 이를 위해서 RStudio의 Notebook 기능을 사용한다. 먼저 RStudio의 Notebook 도 <code>knitr</code> 패키지와 <code>Rmarkdown</code> 같은 패키지를 기반으로 하지만 <code>knitr</code> 패키지를 설치하면 모든 의존성을 자동으로 해결해 준다. <code>knitr</code> 패키지를 설치한 후에 메뉴상단의 <code>File &gt; Compile Notebook…</code> 을 클릭하면 팝업메뉴가 뜨며 제목과 저자를 표시하면 코드, 데이터, 그래프, 테이블 등 정리된 결과를 HTML 파일로 얻을 수 있다.</p>
<p>R 코드, 그림, 테이블, 텍스트와 함께 하나의 작업파일로 데이터 제품을 만들 수 있다. 노트북(Notebook), 마크다운(Markdown), HTML, LaTex 등 총 4가지 방법이 있으나 RStudio를 사용할 경우 내장된 노트북 기능을 사용하는 것도 좋은 방법이며, 마크다운, LaTex, HTML등 친숙한 방법을 사용할 수도 있다.</p>
<table>
<thead>
<tr class="header">
<th align="left"><strong>Markup 시스템</strong></th>
<th align="left"><strong>입력파일(Input)</strong></th>
<th align="left"><strong>리포트파일(Output)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">노트북</td>
<td align="left"><code>.R</code></td>
<td align="left"><code>.html</code> (<code>.md</code> 경유)</td>
</tr>
<tr class="even">
<td align="left">마크다운</td>
<td align="left"><code>.Rmd</code></td>
<td align="left"><code>.html</code> (<code>.md</code> 경유)</td>
</tr>
<tr class="odd">
<td align="left">HTML</td>
<td align="left"><code>.Rhtml</code></td>
<td align="left"><code>.html</code></td>
</tr>
<tr class="even">
<td align="left"><code>LaTeX</code></td>
<td align="left"><code>.Rnw</code></td>
<td align="left"><code>.pdf</code> (.tex 경유)</td>
</tr>
</tbody>
</table>
<p>RStudio_RMarkdown 을 이용하여 작업파일을 만든 후에 <code>knit HTML</code> 버튼을 누루면 HTML 파일을 바로 얻을 수 있다.</p>
<p>어느 소프트웨어도 마찬가지지만 사용하다보면 오류가 발생하고 이를 확인해야 할 때가 있다. <code>RStudio</code>의 경우 <code>Help&gt;Diagnostics&gt;Show log files</code> 를 통해서 확인가능하다. <code>R</code>과 <code>Rstudio</code> 관련 도움말은 구글 검색이나, <a href="http://stackexchange.com/">stack exchange</a>를 통해 얻을 수 있다. 작업을 하다면 콘솔화면을 깨끗이하고 다시 시작하고 싶은 경우가 있다. 윈도나 도스의 경우 <code>cls</code> 명령어가 있는데 R에는 딱히 그런 명령어가 없다. 이런 경우 사용자 정의 함수를 하나 만들어서 실행할 수 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cls &lt;-<span class="st"> </span>function() <span class="kw">cat</span>(<span class="kw">rep</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="dv">50</span>))
<span class="kw">cls</span>()</code></pre></div>
<p>하지만, 매번 R을 실행할 때마다 반복적으로 해야되기 때문에 R이 시작될 때 자동으로 설정을 하는 방법은 초기 실행 환경파일에 이를 적용하는 것이다. <code>C:\Program Files\R\R-3.1.0\library\base\R\RProfile</code> 파일을 텍스트 편집기로 열어 하단에 <code>cls</code> 함수를 적어두고 저장한다. 혹은, <code>CTRL+L</code> 키를 눌러 화면을 깨끗이하며 커서를 맨 위 상단으로 이동한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">….
<span class="kw">local</span>({
    br &lt;-<span class="st"> </span><span class="kw">Sys.getenv</span>(<span class="st">&quot;R_BROWSER&quot;</span>, <span class="ot">NA_character_</span>)
    if(!<span class="kw">is.na</span>(br)) <span class="kw">options</span>(<span class="dt">browser =</span> br)
    tests_startup &lt;-<span class="st"> </span><span class="kw">Sys.getenv</span>(<span class="st">&quot;R_TESTS&quot;</span>)
    if(<span class="kw">nzchar</span>(tests_startup)) <span class="kw">source</span>(tests_startup)
})

<span class="co"># 사용자 정의함수</span>
cls &lt;-<span class="st"> </span>function() <span class="kw">cat</span>(<span class="kw">rep</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="dv">50</span>))</code></pre></div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="http://www.springer.com/us/book/9780387094182">Muenchen, Robert A. R for SAS and SPSS users. Springer Science &amp; Business Media, 2011.</a><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><a href="https://en.wikipedia.org/wiki/Ousterhout%27s_dichotomy">Ousterhout dichotomy</a><a href="#fnref2">↩</a></p></li>
<li id="fn3"><p><a href="http://spectrum.ieee.org/static/interactive-the-top-programming-languages#index">Interactive-The Top Programming Languages</a><a href="#fnref3">↩</a></p></li>
<li id="fn4"><p><a href="http://r4stats.com/articles/popularity/">The Popularity of Data Analysis Software</a><a href="#fnref4">↩</a></p></li>
</ol>
</div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
