<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: 데이터 과학</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-59802572-17', 'auto');
      ga('send', 'pageview');
    
    </script>
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 class="title">데이터 과학</h1>
          <h2 class="subtitle">한글처리 가능한 RStudio 개발환경</h2>
<section class="objectives panel panel-warning">
<div class="panel-heading">
<h3 id="학습-목표"><span class="glyphicon glyphicon-certificate"></span>학습 목표</h3>
</div>
<div class="panel-body">
<ul>
<li>한글처리 RStudio 개발환경을 구축한다.</li>
<li>고성능 개인용컴퓨터 혹은 클라우드 환경에 개발환경을 설정한다.</li>
<li>윈도우 환경에 가상상자(Virtualbox)와 부랑자(Vagrant) + RStudio 서버를 설치한다.</li>
<li>리눅스와 맥환경에는 RStudio IDE를 설치한다.</li>
<li>클라우드 환경에 가상 컴퓨터를 주문하여 RStudio IDE를 바로 설치한다.</li>
<li>소프트레이어 API를 사용해서 가상 컴퓨터를 코드로 주문한다.</li>
<li>Shiny 앱 개발을 위한 RStudio를 설치한다.</li>
<li>데이터 과학 응용프로그램 운영 Shiny 서버를 설치한다.</li>
</ul>
</div>
</section>
<p><img src="fig/virtualbox-vagrant-rstudio-toolchain.png" alt="RStudio 개발 환경 설정" width="55%" /></p>
<p>R과 RStudio를 설치하여 데이터과학을 위한 개발환경을 구축하는 방법이 크게 세가지로 정리된다. 각 방법에 대한 장단점이 존재하는 만큼 충분히 숙지한 후에 최적의 방안을 찾아도 되지만, <a href="http://raspbery-pi.xwmooc.org">라즈베리파이</a> 등 저렴한 하지만 강력한 하드웨어와 더불어 오픈 소프트웨어가 많은 만큼 날 잡고서 몇일 나름의 최적 R설치방안을 찾아보기 바란다. 특히, 데이터과학을 인생에 중요한 전환점이라고 생각한다면 꼭 한번 도전해볼 가치가 있다고 생각된다.</p>
<ol style="list-style-type: decimal">
<li>한국인 90% 이상이 아마도 이 범주에 해당된다고 보인다. 윈도우를 깔고 있는 상태에서 <a href="https://www.virtualbox.org/">가상상자(virtualbox)</a>와 <a href="https://www.vagrantup.com/">부랑자(Vagrant)</a>를 설치하고 그 위에 R 즉 <strong>r-base</strong> 와 더불어 RStudio 서버를 설치한다. 그리고 나서 <code>http://localhost:8787/</code> 8787포트를 통해서 웹브라우져를 통해 개발을 한다.
<ul>
<li>가상상자와 더불어 부랑자라는 도구를 새로 배워야하고 Type II 가상화 개념도 이해하고 있어야 한다.</li>
<li>컴퓨터와 컴퓨터간 통신 프로토콜을 이해해야 하고, 컴퓨터간 응용프로그램 통신을 위한 포트 개념도 알고 있어야 한다.</li>
<li>개인용 컴퓨터에 가상컴퓨터를 띄워 R과 RStudio를 웹브라우져를 통해 돌리는만큼 현저한 속도저하를 경험할 수도 있다.</li>
</ul></li>
<li>개인용 컴퓨터에 운영체제로 리눅스를 설치한다. 혹은 맥을 구입한 후에 R 즉 <strong>r-base</strong> 와 더불어 RStudio 서버를 설치한다.
<ul>
<li>리눅스의 경우 대한민국 정부에서 서비스하는 대부분의 전자정부서비스를 비롯한 금융서비스 등 불편한점을 많이 경험할 수 있다.</li>
<li>이런 경우 가상상자와 부랑자를 사용해 윈도우를 설치하고 은행업무나 마이크로소프트 서비스가 필요한 경우 그때 그때 가상컴퓨터를 띄워 사용한다.</li>
</ul></li>
<li>클라우드 서비스 제공자(아마존웹서비스, IBM 소프트레이어, 구글웹엔진, 마이크로소프트 애져등)에서 가상 유닉스계열 컴퓨터를 생성하고 난 후 R 즉 <strong>r-base</strong> 와 더불어 RStudio 서버를 설치한다.
<ul>
<li>종량제 개념으로 컴퓨터를 사용한만큼 과금을 하는 방식이라 비용이 발생할 수 있다.</li>
<li>유닉스 계열 가상컴퓨터를 원하는 사양에 맞춰 갖을 수 있다.</li>
</ul></li>
</ol>
<blockquote>
<h3 id="한글처리-문제로-기승전-유닉스로-가다" class="challenges">한글처리 문제로 기승전 유닉스로 가다!!!</h3>
<ul>
<li>결국, 윈도우를 버리고 R과 RStudio를 유닉스 컴퓨터에 설치하는 결론에 도달했다.</li>
<li>시작은 윈도우에서 한글처리를 R과 RStudio에서 처리하는 소박한 소망에서 시작했다.</li>
<li>한글 인코딩이 발목을 잡고, 이에 대한 근본적인 처리는 결국 Type I, Type II 가상화를 통해 유닉스를 설치하고 그 위에 R과 RStudio를 설치하는 것이다.</li>
<li>처음 R과 RStudio를 유닉스에 설치하는 것이 망설여지고, 몇일 고생할 수도 있지만, 장기적으로 보면 올바른 선택이라고 보여진다.</li>
<li>근본적인 원인중의 하나는 대부분의 R 팩키지가 유니코드 utf-8으로 개발되기 때문에 팩키지에 인코딩을 맞춰 넣으려면 CP949, EUC-KR와 인코딩을 맞추는 것은 개발자에게 있어 상당한 낭비다. 또한, 웹환경에 배포를 하고 협업하는 국내외 환경을 생각하면 utf-8을 사용하는 것이 장기적으로 시간을 크게 절약하는 현명한 접근법으로 보여진다.</li>
</ul>
</blockquote>
<p><img src="fig/virtualbox-RStudio_encoding.png" alt="RStudio 개발 환경 설정" width="50%" /></p>
<h2 id="windows-r-setup">1. 윈도우 환경 R 개발환경 설정</h2>
<p>윈도우 환경 가상상자와 부랑자에 대한 설치는 <a href="http://raspberry-pi.xwmooc.org/raspberry-pi-virtual-window.html">윈도 가상 개발환경 구축</a>을 참조한다.</p>
<p>R과 RStudio를 설치할 경우 포트번호를 8787 포트포워딩해서 가상컴퓨터와 호스트컴퓨터 응용프로그램간 통신을 할 수 있게 조정을 해야 한다. 더불어, <code>config.vm.synced_folder</code> 설정으로 호스트 윈도우 환경과 리눅스 환경 사이 폴더를 동기화하여 <code>scp</code>, <code>sftp</code>같은 번거로운 복사 작업을 최소화한다. devtools, Rcpp등 일부 덩치가 크고 중요한 팩키지의 경우 메모리를 1024 즉, 1GByte로 설정한 경우 오류를 내는 경우가 있어 최소 2GB이상 설정한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Vagrant.configure</span>(<span class="dv">2</span>) do |config|
<span class="co"># 우분투 리눅스를 설치한다.</span>
<span class="st">  </span>config.vm.box =<span class="st"> &quot;ubuntu/trusty64&quot;</span>
<span class="co"># RStudio 서버를 설치한 후 포트번호 8787을 설정해야 향후 localhost:8787 로 접속하여 RStudio를 사용한다.</span>
  config.vm.network <span class="st">&quot;forwarded_port&quot;</span>, guest:<span class="st"> </span><span class="dv">8787</span>, host:<span class="st"> </span><span class="dv">8787</span>
<span class="co"># 호스트 윈도우 파일시스템과 가상컴퓨터 우분트 파일시스템을 동기화시켜 scp, sftp 등을 사용할 필요를 없앤다.</span>
  config.vm.synced_folder  <span class="st">&quot;C:/Users/KwangChun/docs/rstudio&quot;</span>, <span class="st">&quot;/home/vagrant&quot;</span>

  config.vm.provider <span class="st">&quot;virtualbox&quot;</span> do |vb|
<span class="co"># devtools, Rcpp등 일부 덩치가 크고 중요한 팩키지의 경우 메모리가 적어 오류를 내는 경우가 있어 최소 2GB이상 설정한다.</span>
<span class="st">     </span>vb.memory =<span class="st"> &quot;2048&quot;</span>
  end
end</code></pre></div>
<p><code>vagrant up</code> 명령어를 입력하면 RStudio 서버가 구동하게 되고 <code>vagrant ssh</code> 명령어를 입력하고 들어가서 R과 RStudio 서버를 설치한다.</p>
<p>최신버젼 R을 설치하는 경우 다음 명령어를 터미널에서 입력한다. <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
$<span class="st"> </span>sudo add-apt-repository <span class="st">&#39;deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu xenial/&#39;</span>
$<span class="st"> </span>sudo apt-get update
$<span class="st"> </span>sudo apt-get install r-base
$<span class="st"> </span>sudo -i R
R version <span class="fl">3.4.2</span> (<span class="dv">2017-09-28</span>) --<span class="st"> &quot;Short Summer&quot;</span>
<span class="kw">Copyright</span> (C) <span class="dv">2017</span> The R Foundation for Statistical Computing
Platform:<span class="st"> </span>x86_64-pc-linux-<span class="kw">gnu</span> (<span class="dv">64</span>-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type <span class="st">&#39;license()&#39;</span> or <span class="st">&#39;licence()&#39;</span> for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type <span class="st">&#39;contributors()&#39;</span> for more information and
<span class="st">&#39;citation()&#39;</span> on how to cite R or R packages in publications.

Type <span class="st">&#39;demo()&#39;</span> for some demos, <span class="st">&#39;help()&#39;</span> for on-line help, or
<span class="st">&#39;help.start()&#39;</span> for an HTML browser interface to help.
Type <span class="st">&#39;q()&#39;</span> to quit R.

&gt;</code></pre></div>
<p>최신버젼 R을 설치한 경우 RStudio <strong>서버</strong> 를 <a href="https://www.rstudio.com/products/rstudio/download-server/">다운로드</a>받아 설치한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>sudo apt-get install gdebi-core
$<span class="st"> </span>wget https:<span class="er">//</span>download2.rstudio.org/rstudio-server<span class="fl">-1.1.383</span>-amd64.deb
$<span class="st"> </span>sudo gdebi rstudio-server<span class="fl">-1.1.383</span>-amd64.deb</code></pre></div>
<p><code>wget</code>이 막힌 경우 <code>curl -O https://download2.rstudio.org/rstudio-server-1.1.383-amd64.deb</code> 명령어를 사용한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">KwangChun@paris MINGW64 ~<span class="er">/</span>docs/rstudio
$<span class="st"> </span>vagrant up
Bringing machine <span class="st">&#39;default&#39;</span> up with <span class="st">&#39;virtualbox&#39;</span> provider...
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Checking if box <span class="st">&#39;ubuntu/trusty64&#39;</span> is up to date...
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> `</span><span class="dt">vagrant box update</span><span class="st">`</span> to update.
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Preparing network interfaces based on configuration...
    default:<span class="st"> </span>Adapter <span class="dv">1</span>:<span class="st"> </span>nat
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Forwarding ports...
    default:<span class="st"> </span><span class="dv">8787</span> (guest) =<span class="er">&gt;</span><span class="st"> </span><span class="dv">8787</span> (host) (adapter <span class="dv">1</span>)
    default:<span class="st"> </span><span class="dv">22</span> (guest) =<span class="er">&gt;</span><span class="st"> </span><span class="dv">2222</span> (host) (adapter <span class="dv">1</span>)
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Running <span class="st">&#39;pre-boot&#39;</span> VM customizations...
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Booting VM...
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Waiting for machine to boot. This may take a few minutes...
    default:<span class="st"> </span>SSH address:<span class="st"> </span><span class="fl">127.0.0.1</span>:<span class="dv">2222</span>
    default:<span class="st"> </span>SSH username:<span class="st"> </span>vagrant
    default:<span class="st"> </span>SSH auth method:<span class="st"> </span>private key
    default:<span class="st"> </span>Warning:<span class="st"> </span>Remote connection disconnect. Retrying...
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Machine booted and ready!
<span class="er">==&gt;</span><span class="st"> </span>default:<span class="st"> </span>Checking for guest additions in VM...
    default:<span class="st"> </span>Guest Additions Version:<span class="st"> </span><span class="fl">4.3.34</span>
    default:<span class="st"> </span>VirtualBox Version:<span class="st"> </span><span class="fl">5.0</span>
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Mounting shared folders...
    default:<span class="st"> </span><span class="er">/</span>vagrant =<span class="er">&gt;</span><span class="st"> </span>C:<span class="er">/</span>Users/KwangChun/docs/rstudio
    default:<span class="st"> </span><span class="er">/</span>home/vagrant =<span class="er">&gt;</span><span class="st"> </span>C:<span class="er">/</span>Users/KwangChun/docs/rstudio
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>Machine already provisioned. Run <span class="st">`</span><span class="dt">vagrant provision</span><span class="st">`</span> or use the <span class="st">`</span><span class="dt">--provision</span><span class="st">`</span>
==<span class="er">&gt;</span><span class="st"> </span>default:<span class="st"> </span>flag to force provisioning. Provisioners marked to run always will still run.</code></pre></div>
<p><code>vagrant up</code> 명령어를 실행하면 먼저 설정된 <code>Vagrantfile</code>을 읽어 이를 차례로 실행한다. 웹브라우져를 열고 <code>localhost:8787</code>을 입력하면 로그인 창이 뜬다. RStudio 서버의 경우 보안상의 이유로 <code>root</code>로 로그인이 금지되어 있고, <code>/home</code> 디렉토리에 사용자를 생성하고 그 사용자를 사용하여야만 되지만, <code>vagrant</code> 사용자가 이미 설정되어 있기 때문에 동일한 비밀번호를 입력하고 들어가면 RStudio를 바로 사용할 수 있게 된다.</p>
<p><img src="fig/virtualbox-rstudio-server-vagrant-login.png" alt="RStudio 개발 환경 설정" width="50%" /></p>
<p>R 팩키지를 설치할 때 <code>XML</code> 관련 오류가 생겨나는 경우 터미널에서 해당 프로그램을 설치한다. <code>vagrant ssh</code> 명령어를 통해서 윈도우 쉘에서 바로 작업이 가능한다. 지도 관련 오류가 나는 경우 <code>libgdal-dev</code> 팩키지를 추가로 설치한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># XML누락 관련</span>
$<span class="st"> </span>sudo apt-get -y build-dep libcurl4-gnutls-dev
$<span class="st"> </span>sudo apt-get -y install libcurl4-gnutls-dev
<span class="co"># 지도 관련 팩키지 설치 시 오류가 나는 경우</span>
$<span class="st"> </span>sudo apt-get install libgdal-dev
$<span class="st"> </span>sudo apt-get install libgdal1-dev libproj-dev</code></pre></div>
<h2 id="setup-linux-mac">2. 리눅스나 맥에서 R 개발환경 설정</h2>
<p>리눅스나 맥에서 R 개발환경을 설정하는 것은 매우 직관적이다. RStudio IDE를 다운로드 받아 GUI를 사용할 경우 <em>다음</em> 버튼을 여러번 누르면 바로 개발환경 설정이 된다. 명령라인 인터페이스를 사용하는 경우 다음 클라우드 환경에서 R개발환경 설정을 참고하기 바란다.</p>
<h3 id="install-r-latest-on-linx">2.1. 가장 최신 R 설치</h3>
<p>윈도우에서 부랑자(Vagrant)를 설치하고 R을 설치하는 과정과 동일하다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
$<span class="st"> </span>sudo add-apt-repository <span class="st">&#39;deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu xenial/&#39;</span>
$<span class="st"> </span>sudo apt-get update
$<span class="st"> </span>sudo apt-get install r-base
$<span class="st"> </span>sudo -i R</code></pre></div>
<h3 id="install-rstudio-latest-on-linx">2.2. 가장 최신 RStudio 서버 설치</h3>
<p>최신 버젼 R을 설치한 후에 RStudio <strong>서버</strong> 를 <a href="https://www.rstudio.com/products/rstudio/download-server/">다운로드</a>받아 설치한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>sudo apt-get install gdebi-core
$<span class="st"> </span>wget https:<span class="er">//</span>download2.rstudio.org/rstudio-server<span class="fl">-1.1.383</span>-amd64.deb
$<span class="st"> </span>sudo gdebi rstudio-server<span class="fl">-1.1.383</span>-amd64.deb</code></pre></div>
<p><code>rstudio</code>를 사용자로 등록하고 나서 웹브라우져를 열고 <code>http://localhost:8787</code>에 접속하고 나서, <code>rstudio</code> 계정으로 로그인한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>parallels@ubuntu:<span class="er">~/</span>spark<span class="fl">-1.6.1</span>$<span class="st"> </span>sudo useradd -m rstudio
$<span class="st"> </span>parallels@ubuntu:<span class="er">~/</span>spark<span class="fl">-1.6.1</span>$<span class="st"> </span>sudo passwd rstudio
Enter new UNIX password:<span class="st"> </span>
Retype new UNIX password:<span class="st"> </span>
passwd:<span class="st"> </span>password updated successfully</code></pre></div>
<h2 id="setup-r-development-environment">3. 클라우드 환경 R 개발환경 설정</h2>
<p><a href="http://www.softlayer.com/m-ko/">소프트레이어(SoftLayer)</a> 웹인터페이스를 사용하는 것도 가능하지만, API를 사용해서 계정(Account) 주소정보 중 도시를 읽어오고 가장컴퓨터 주문도 가능하다.</p>
<p>먼저, 소프트레이어 계정정보에 악의적인 사용을 막기위해서 계정정보 <code>API Access Information</code> 아래 <code>Allowed IPs</code>를 <code>ifconfig</code> 명령을 통해서 등록한다. 다음 소프트레이어 API 문서를 참고해서 다음과 같이 파이썬 코드를 작성하고 실행한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># SoftLayer API를 사용해서 계정(Account) 주소정보 중 도시를 읽어오는 프로그램</span>
import SoftLayer
client =<span class="st"> </span><span class="kw">SoftLayer.create_client_from_env</span>(<span class="dt">username=</span><span class="st">&quot;SLXXXXXX&quot;</span>, <span class="dt">api_key=</span><span class="st">&quot;7c769b8...&quot;</span>)
resp =<span class="st"> </span>client[<span class="st">&#39;Account&#39;</span>]<span class="kw">.getObject</span>()
print <span class="st">&#39;Account city info : &#39;</span>, resp[<span class="st">&#39;city&#39;</span>]</code></pre></div>
<p>먼저 <code>SoftLayer</code> 모듈을 가져오고, <code>client</code> 객체를 생성하고, <code>getObject()</code> 메쏘드를 통해서 resp에 <code>Account</code> 계정정보를 가져오고, 계정정보 중 도시정보를 다음과 같이 출력한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny:<span class="er">~</span><span class="co"># python python-start.py</span>
Account city info :<span class="st">  </span>Seoul</code></pre></div>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h3 id="웹-api"><span class="glyphicon glyphicon-pushpin"></span>웹 API</h3>
</div>
<div class="panel-body">
<p>웹 응용프로그램 인터페이스(API, Application Programming Interface)는 웹 애플리케이션 개발에서 다른 서비스에 요청을 보내고 응답을 받기 위해 정의된 명세를 일컫는다. 예를 들어 블로그 API를 이용하면 블로그에 접속하지 않고도 다른 방법으로 글을 올릴 수 있다. 그 외에 우체국의 우편번호 api, 구글과 네이버의 지도 api등 유용한 api들이 많으므로, 요즘은 홈페이지 구축이나 추가개편 시 따로 추가로 개발하지 않고도로 이런 오픈 api를 가져와 사용하는 추세이다. 출처: <a href="http://ko.wikipedia.org/wiki/API">위키피디아 API</a></p>
</div>
</aside>
<h3 id="order-from-softlayer">3.1. 데이터 과학 응용프로그램 개발 가상 컴퓨터 주문</h3>
<p>데이터 과학 응용프로그램 개발을 위한 가상 컴퓨터를 파이썬 프로그램을 작성해서 주문한다. 컴퓨터 호스트 이름은 <code>shiny-sl</code>이고 프로세서는 1개, 주기억장치는 1GB, 보조기억장치는 25GB를 달러스 데이터센터에 우분투 최신 버젼 OS를 가지고 비용절감을 위해서 공용으로 주문한다.</p>
<table>
<thead>
<tr class="header">
<th align="left">구성항목</th>
<th align="left">명칭</th>
<th align="left">선택 사양</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">호스명</td>
<td align="left">hostname</td>
<td align="left">shiny-sl</td>
</tr>
<tr class="even">
<td align="left">도메인명</td>
<td align="left">domain</td>
<td align="left">xwmooc.net</td>
</tr>
<tr class="odd">
<td align="left">데이터센터</td>
<td align="left">datacenter</td>
<td align="left">dal09</td>
</tr>
<tr class="even">
<td align="left">프로세서갯수</td>
<td align="left">cpu</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">주기억장치</td>
<td align="left">memory</td>
<td align="left">1024</td>
</tr>
<tr class="even">
<td align="left">운영체제</td>
<td align="left">os</td>
<td align="left">UBUNTU_LASTEST</td>
</tr>
<tr class="odd">
<td align="left">보조기억장치</td>
<td align="left">disk</td>
<td align="left">25</td>
</tr>
<tr class="even">
<td align="left">공용/전용</td>
<td align="left">public/private</td>
<td align="left">public</td>
</tr>
<tr class="odd">
<td align="left">요금 청구단위</td>
<td align="left">billing</td>
<td align="left">hourly</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">import SoftLayer
client =<span class="st"> </span><span class="kw">SoftLayer.create_client_from_env</span>(<span class="dt">username=</span><span class="st">&quot;SLXXXXXX&quot;</span>, <span class="dt">api_key=</span><span class="st">&quot;7c7xxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span>)

shiny_object =<span class="st"> </span>client[<span class="st">&#39;Virtual_Guest&#39;</span>]<span class="kw">.createObject</span>({
    <span class="st">&#39;hostname&#39;</span>:<span class="st"> &#39;shiny-sl&#39;</span>,
    <span class="st">&#39;domain&#39;</span>:<span class="st"> &#39;xwmooc.net&#39;</span>,
    <span class="st">&#39;startCpus&#39;</span>:<span class="st"> </span><span class="dv">1</span>,
    <span class="st">&#39;maxMemory&#39;</span>:<span class="st"> </span><span class="dv">1024</span>,
    <span class="st">&#39;hourlyBillingFlag&#39;</span>:<span class="st"> &#39;true&#39;</span>,
    <span class="st">&#39;operatingSystemReferenceCode&#39;</span>:<span class="st"> &#39;UBUNTU_LATEST&#39;</span>,
    <span class="st">&#39;localDiskFlag&#39;</span>:<span class="st"> &#39;true&#39;</span>
    <span class="st">&#39;datacenter&#39;</span>:<span class="st"> </span>{<span class="st">&quot;name&quot;</span>:<span class="st"> &#39;dal09&#39;</span>},
    <span class="st">&#39;local_disk&#39;</span>:<span class="st"> </span><span class="dv">25</span>
})

for key, value in <span class="kw">shiny_object.iteritems</span>():
<span class="st">    </span>print key, <span class="st">&quot; : &quot;</span>, value</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny:<span class="er">~</span><span class="co"># python shiny-create.py</span>
domain  :<span class="st">  </span>xwmooc.net
maxMemory  :<span class="st">  </span><span class="dv">1024</span>
uuid  :<span class="st">  </span>ed82caeb-xxxxxxx
maxCpu  :<span class="st">  </span><span class="dv">1</span>
metricPollDate  :
createDate  :<span class="st">  </span><span class="dv">2015-05</span>-22T01:<span class="dv">36</span>:<span class="dv">51-06</span>:<span class="dv">00</span>
hostname  :<span class="st">  </span>shiny-sl
startCpus  :<span class="st">  </span><span class="dv">1</span>
lastPowerStateId  :
lastVerifiedDate  :
statusId  :<span class="st">  </span><span class="dv">1001</span>
globalIdentifier  :<span class="st">  </span>a24e018e-xxxxxxxx
provisionDate  :
maxCpuUnits  :<span class="st">  </span>CORE
modifyDate  :
accountId  :<span class="st">  </span>xxxxxxx
id  :<span class="st">  </span>xxxxxxxxx
fullyQualifiedDomainName  :<span class="st">  </span>shiny-sl.xwmooc.net</code></pre></div>
<h4 id="check-order-from-sl">3.1.1. 주문한 가상 컴퓨터 생성 확인</h4>
<p><code>slcli vs list</code> 명령어를 통해서 새로운 가상 컴퓨터 <code>shiny-sl</code>이 생성된 것을 확인할 수 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny:<span class="er">~</span><span class="co"># slcli vs list</span>
<span class="er">:</span>.........:..........:.................:................:............:........:
<span class="er">:</span><span class="st">    </span>id   :<span class="st"> </span>hostname :<span class="st">    </span>primary_ip   :<span class="st">   </span>backend_ip   :<span class="st"> </span>datacenter :<span class="st"> </span>action :
<span class="er">:</span>.........:..........:.................:................:............:........:
<span class="er">:</span><span class="st"> </span><span class="dv">9535091</span> :<span class="st"> </span>shiny-sl :<span class="st">  </span><span class="fl">169.53.232.11</span>  :<span class="st"> </span><span class="fl">10.121.217.205</span> :<span class="st">   </span>dal09    :<span class="st">   </span>-<span class="st">    </span><span class="er">:</span>
<span class="er">:</span>.........:..........:.................:................:............:........:</code></pre></div>
<h4 id="delete-order-from-sl">3.1.2. 주문한 가상 컴퓨터 삭제</h4>
<p>파이썬 프로그램으로 가상컴퓨터를 간단히 삭제할 수 있다. 삭제하는 방법은 <code>id</code>를 <code>cancel_instance()</code> 메쏘드에 인자로 넣어주면 끝이다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">import SoftLayer
client =<span class="st"> </span><span class="kw">SoftLayer.create_client_from_env</span>(<span class="dt">username=</span><span class="st">&quot;SLXXXXXX&quot;</span>, <span class="dt">api_key=</span><span class="st">&quot;7c7xxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span>)

mgr =<span class="st"> </span><span class="kw">SoftLayer.VSManager</span>(client)
<span class="kw">mgr.cancel_instance</span>(<span class="dv">9535091</span>)</code></pre></div>
<p>주문한 <code>shiny-sl</code> 컴퓨터를 주문취소하여 진행되는 과정이 보여지고 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny:<span class="er">~</span><span class="co"># slcli vs list</span>
<span class="er">:</span>.........:..........:.................:................:............:.....................:
<span class="er">:</span><span class="st">    </span>id   :<span class="st"> </span>hostname :<span class="st">    </span>primary_ip   :<span class="st">   </span>backend_ip   :<span class="st"> </span>datacenter :<span class="st">        </span>action       :
<span class="er">:</span>.........:..........:.................:................:............:.....................:
<span class="er">:</span><span class="st"> </span><span class="dv">9535091</span> :<span class="st"> </span>shiny-sl :<span class="st">  </span><span class="fl">169.53.232.11</span>  :<span class="st"> </span><span class="fl">10.121.217.205</span> :<span class="st">   </span>dal09    :<span class="st"> </span>Cloud ISO Tear Down :
<span class="er">:</span>.........:..........:.................:................:............:.....................:</code></pre></div>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="rest"><span class="glyphicon glyphicon-pushpin"></span>REST</h2>
</div>
<div class="panel-body">
<p>REST(Representational State Transfer)는 월드 와이드 웹과 같은 분산 하이퍼미디어 시스템을 위한 소프트웨어 아키텍처의 한 형식이다. 이 용어는 로이 필딩(Roy Fielding)의 2000년 박사학위 논문에서 소개되었다. 필딩은 HTTP의 주요 저자 중 한 사람이다. 이 개념은 네트워킹 문화에 널리 퍼졌다. 엄격한 의미로 REST는 네트워크 아키텍처 원리의 모음이다. 여기서 ’네트워크 아키텍처 원리’란 자원을 정의하고 자원에 대한 주소를 지정하는 방법 전반을 일컫는다. 간단한 의미로는, 웹 상의 자료를 HTTP위에서 SOAP이나 쿠키를 통한 세션 트랙킹 같은 별도의 전송 계층 없이 전송하기 위한 아주 간단한 인터페이스를 말한다. 이 두 가지의 의미는 겹치는 부분과 충돌되는 부분이 있다. 필딩의 REST 아키텍처 형식을 따르면 HTTP나 WWW이 아닌 아주 커다란 소프트웨어 시스템을 설계하는 것도 가능하다. 또한, 리모트 프로시저 콜 대신에 간단한 XML과 HTTP 인터페이스를 이용해 설계하는 것도 가능하다. 필딩의 REST 원리를 따르는 시스템은 종종 RESTful이란 용어로 지칭된다. 열정적인 REST 옹호자들은 스스로를 RESTafrians 이라고 부른다.</p>
<p>출처: 위키피디아 REST <a href="http://ko.wikipedia.org/wiki/REST" class="uri">http://ko.wikipedia.org/wiki/REST</a></p>
</div>
</aside>
<p>SoftLayer REST에 대한 자세한 사항은 <a href="http://sldn.softlayer.com/article/rest" class="uri">http://sldn.softlayer.com/article/rest</a> 기사를 참조한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny:<span class="er">~</span><span class="co"># curl -s https://SLXXX:API-KEY@api.softlayer.com/rest/v3/SoftLayer_Account.json | python -m json.tool</span>
{
    <span class="st">&quot;accountManagedResourcesFlag&quot;</span>:<span class="st"> </span>false,
    <span class="st">&quot;accountStatusId&quot;</span>:<span class="st"> </span>1XXX,
    <span class="st">&quot;address1&quot;</span>:<span class="st"> &quot;XXXXX&quot;</span>,
    <span class="st">&quot;allowedPptpVpnQuantity&quot;</span>:<span class="st"> </span>X,
    <span class="st">&quot;brandId&quot;</span>:<span class="st"> </span>XX,
    <span class="st">&quot;city&quot;</span>:<span class="st"> &quot;XXXX&quot;</span>,
    <span class="st">&quot;claimedTaxExemptTxFlag&quot;</span>:<span class="st"> </span>false,
    <span class="st">&quot;companyName&quot;</span>:<span class="st"> &quot;xwMOOC&quot;</span>,
    <span class="st">&quot;country&quot;</span>:<span class="st"> &quot;KR&quot;</span>,
    <span class="st">&quot;createDate&quot;</span>:<span class="st"> &quot;xxx&quot;</span>,
    <span class="st">&quot;email&quot;</span>:<span class="st"> &quot;xxxxxx@gmail.com&quot;</span>,
    <span class="st">&quot;firstName&quot;</span>:<span class="st"> &quot;xxxxx&quot;</span>,
    <span class="st">&quot;id&quot;</span>:<span class="st"> </span>xxxxxx,
    <span class="st">&quot;isReseller&quot;</span>:<span class="st"> </span><span class="dv">0</span>,
    <span class="st">&quot;lastName&quot;</span>:<span class="st"> &quot;Lee&quot;</span>,
    <span class="st">&quot;lateFeeProtectionFlag&quot;</span>:<span class="st"> </span>null,
    <span class="st">&quot;modifyDate&quot;</span>:<span class="st"> &quot;2014-11-11T17:55:18-06:00&quot;</span>,
    <span class="st">&quot;officePhone&quot;</span>:<span class="st"> &quot;XXXXXXXXX&quot;</span>,
    <span class="st">&quot;postalCode&quot;</span>:<span class="st"> &quot;XXX&quot;</span>,
    <span class="st">&quot;state&quot;</span>:<span class="st"> &quot;OT&quot;</span>,
    <span class="st">&quot;statusDate&quot;</span>:<span class="st"> </span>null
}</code></pre></div>
<p><img src="fig/toolchain-shiny-install-overview.png" alt="클라우드 가상 컴퓨터 위에 Shiny 웹서버와 RStudio IDE 설치" width="50%" /></p>
<h3 id="install-shiny-server-on-softlayer">3.2. Shiny 서버 설치</h3>
<h4 id="check-spec-on-softlayer">3.2.1. 가상 컴퓨터 사양 확인</h4>
<p><code>Shiny R</code>을 설치하기에 앞서 클라우드 데이터 과학 분석을 위한 가상 컴퓨터를 살펴보자. 데이터 과학용 클라우드 가상 컴퓨터가 준비되었으면 <code>ssh root@169.53.232.11</code>를 이용해서 <code>lshw</code> 명령어를 통해서 하드웨어 기본 사양을 확인한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">$<span class="st"> </span>ssh root@<span class="fl">169.53.232.11</span>
Password:
Welcome to Ubuntu <span class="fl">14.04.2</span> <span class="kw">LTS</span> (GNU/Linux <span class="fl">3.13.0</span><span class="dv">-51</span>-generic x86_64)

 *<span class="st"> </span>Documentation:<span class="st">  </span>https:<span class="er">//</span>help.ubuntu.com/

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the individual files in /usr/share/doc/<span class="er">*/</span>copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law.

root@shiny-sl:<span class="er">~</span><span class="co">#</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># lshw</span>
shiny-sl
    description:<span class="st"> </span>Computer
    width:<span class="st"> </span><span class="dv">64</span> bits
    capabilities:<span class="st"> </span>vsyscall32
  *-core
       description:<span class="st"> </span>Motherboard
       physical id:<span class="st"> </span><span class="dv">0</span>
     *-memory
          description:<span class="st"> </span>System memory
          physical id:<span class="st"> </span><span class="dv">0</span>
          size:<span class="st"> </span>989MiB
     *-cpu
          product:<span class="st"> </span><span class="kw">Intel</span>(R) <span class="kw">Xeon</span>(R) CPU E5<span class="dv">-2650</span> v2 @<span class="st"> </span><span class="fl">2.</span>60GHz
          vendor:<span class="st"> </span>Intel Corp.
          physical id:<span class="st"> </span><span class="dv">1</span>
          bus info:<span class="st"> </span>cpu@<span class="dv">0</span>
          width:<span class="st"> </span><span class="dv">64</span> bits
... 중략...
     *-network:<span class="dv">1</span>
       description:<span class="st"> </span>Ethernet interface
       physical id:<span class="st"> </span><span class="dv">2</span>
       logical name:<span class="st"> </span>eth1
       serial:<span class="st"> </span><span class="dv">06</span>:2c:2b:b1:<span class="dv">43</span>:ed
       capabilities:<span class="st"> </span>ethernet physical
       configuration:<span class="st"> </span>broadcast=yes driver=vif ip=<span class="fl">169.53.232.9</span> link=yes multicast=yes</code></pre></div>
<p>하드웨어 사양을 확인했으니, 운영체제 사양도 확인한다. 우분투의 경우 <code>lsb_release -a</code> 명령어를 콘솔에 타이핑하면 된다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># lsb_release -a</span>
No LSB modules are available.
Distributor ID:<span class="st"> </span>Ubuntu
Description:<span class="st">    </span>Ubuntu <span class="fl">14.04.2</span> LTS
Release:<span class="st">        </span><span class="fl">14.04</span>
Codename:<span class="st">       </span>trusty</code></pre></div>
<h4 id="install-shiny-server">3.2.2. <code>Shiny</code> 서버 설치</h4>
<p>기본적으로 <code>R</code> 라이선스가 <code>GPL</code>을 따르기 때문에 <code>Shiny</code> 서버도 동일한 라이선스를 따르니 리눅스를 이용하는 기분으로 소프트웨어를 사용한다. 이제 Shiny 서버를 클라우드에 구축하기 위해서 Shiny 서버를 다운로드하여 설치한다. 우분투 기준 <code>Shiny Server v1.3.0.403</code> 버젼 기준으로 설치해 나간다. 자세한 내용은 영어 설치페이지<a href="http://www.rstudio.com/products/shiny/download-server/" class="uri">http://www.rstudio.com/products/shiny/download-server/</a>를 참조한다.</p>
<p>운영체제 버젼 확인 결과 우분투 14.04 버젼으로 Rstudio 에서 설치시 권장하는 우분투 12.04보다 상위버젼으로 바로 <code>R</code>부터 설치를 진행해 나갈 수 있다. <code>r-base</code>를 설치하고 난 다음에는 <code>Shiny 서버</code>를 설치하기 전에 <code>Shiny R</code> 팩키지를 설치해야한다. 물론 <code>R</code>로 들어가서 <code>install.packages('shiny', repos='http://cran.rstudio.com/')</code>를 해서 <code>shiny</code> 팩키지를 설치해도 된다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># sudo apt-get install r-base</span>
root@shiny-sl:<span class="er">~</span><span class="co"># $ sudo su - -c &quot;R -e \&quot;install.packages(&#39;shiny&#39;, repos=&#39;http://cran.rstudio.com/&#39;)\&quot;&quot;</span></code></pre></div>
<p><code>R</code>과 <code>Shiny</code> 패키지를 설치한 다음에 <strong>gdebi</strong>를 다음에 설치해야 한다. 그리고 나서 <code>gdebi</code>를 통해서 <code>Shiny 서버</code>를 설치할 수 있다.</p>
<p><code>wget</code>을 통해서 <code>Shiny 서버</code> 설치 파일을 다운로드받고, <code>gdebi</code>를 통해서 <code>Shiny 서버</code>를 설치한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># sudo apt-get install gdebi-core</span>
root@shiny-sl:<span class="er">~</span><span class="co"># wget http://download3.rstudio.org/ubuntu-12.04/x86_64/shiny-server-1.3.0.403-amd64.deb</span>
root@shiny-sl:<span class="er">~</span><span class="co"># sudo gdebi shiny-server-1.3.0.403-amd64.deb</span></code></pre></div>
<p><code>Shiny 서버</code>가 잘 실행되고 있는지 <code>status shiny-server</code> 명령어를 통해서 확인해보고, 만약 서비스가 시작되지 않았다면, <code>sudo start shiny-server</code> 명령어로 실행시킨다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># status shiny-server</span>
shiny-server start/running, process <span class="dv">14553</span>

root@shiny-sl:<span class="er">~</span><span class="co"># sudo start shiny-server</span>
start:<span class="st"> </span>Job is already running:<span class="st"> </span>shiny-server</code></pre></div>
<p>이제 웹브라우져를 열고 <strong>포트번호(port, 3838)</strong>를 뒤에 <code>:3838</code>을 붙여 <code>http://169.53.232.11:3838/</code>와 같이 입력하면 브라우져 상단에 다음과 같은 메시지가 출력되면 설치가 완료되고 사용준비가 완료된 것이다.</p>
<p><img src="fig/toolchain-shiny-install.png" alt="Shiny 서버 설치 화면" width="40%" /></p>
<p>첫 설치 페이지 우측 하단에 <code>rmarkdown</code> 설치가 되지 않아 생기는 오류사항은 <code>R</code>에서 <code>install.packages(&quot;rmarkdown&quot;)</code>를 통해서 <code>rmarkdown</code> 팩키지를 설치해서 해결할 수 있고 다음과 같은 메시지가 보이면 설치가 모두 완료된 것이다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">With Shiny and <span class="st">`</span><span class="dt">rmarkdown</span><span class="st">`</span> installed, you should see a Shiny doc above.</code></pre></div>
<h4 id="shinyapp-io-configuration">3.2.3. <code>shinyapp.io</code> 공용 Shiny 서버 설정</h4>
<p><code>Tools</code> –&gt; <code>ShinyApps</code> –&gt; <code>Manage Accounts...</code>를 통해 RStudio에서 바로 <a href="https://www.shinyapps.io/" class="uri">https://www.shinyapps.io/</a> 공용 Shiny 서버로 응용프로그램을 배포할 수 있다. 먼저 <a href="https://www.shinyapps.io/" class="uri">https://www.shinyapps.io/</a> 웹사이트에 접속해서 계정을 생성한다.</p>
<p><a href="https://www.shinyapps.io/" class="uri">https://www.shinyapps.io/</a> 웹사이트에 로그인한 뒤에 사용자명(우측상단)을 클릭하고 <strong>Tokens</strong>를 클릭하면 토큰과 비밀키 정보가 함께 볼 수 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">shinyapps::<span class="kw">setAccountInfo</span>(<span class="dt">name=</span><span class="st">&#39;xwmooc&#39;</span>,
        <span class="dt">token=</span><span class="st">&#39;C9CXXXXXXXXXXXXXXXXXXXXX&#39;</span>,
        <span class="dt">secret=</span><span class="st">&#39;&lt;SECRET&gt;&#39;</span>)</code></pre></div>
<p>토큰 정보를 <code>Tools</code> –&gt; <code>ShinyApps</code> –&gt; <code>Manage Accounts...</code>에 등록한다.</p>
<p><img src="fig/toolchain-shiny-shinyapp-io-configuration.png" alt="RStudio IDE에서 shinyapp.io에 바로 연결하기 위한 토근 환경설정" width="30%" /></p>
<p><strong>주의:</strong> Shiny 응용프로그램을 배포하기 위해서 <code>ui.R</code>, <code>server.R</code>로 응용프로그램이 나눠줘야 한다.</p>
<p><img src="fig/toolchain-shiny-shinyapp-io-connect-menu.png" alt="RStudio IDE에서 shinyapp.io에 개발한 응용프로그램을 바로 배포(Publish App...)" width="30%" /></p>
<h3 id="install-rstudio-server-on-softlayer">3.3. <code>RStudio</code> 서버 설치</h3>
<p><code>Shiny 서버</code>를 설치한 다음에 <code>RStudio</code> 개발환경을 설치한다. <code>gdebi</code>는 <code>Shiny 서버</code> 소프트웨어를 설치할 때 설치했기 때문에 바로 최신 버전을 <code>wget</code>을 통해 다운로드하고 나서 설치한다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># wget http://download2.rstudio.org/rstudio-server-0.98.1103-amd64.deb</span>

--<span class="dv">2015-05-22</span> <span class="dv">03</span>:<span class="dv">42</span>:<span class="dv">29</span>--<span class="st">  </span>http:<span class="er">//</span>download2.rstudio.org/rstudio-server<span class="fl">-0.98.1103</span>-amd64.deb
Resolving <span class="kw">download2.rstudio.org</span> (download2.rstudio.org)... <span class="fl">54.192.7.233</span>, <span class="fl">54.230.4.176</span>, <span class="fl">54.230.5.20</span>,
...
Connecting to <span class="kw">download2.rstudio.org</span> (download2.rstudio.org)|<span class="fl">54.192.7.233</span>|<span class="er">:</span><span class="dv">80</span>... connected.
HTTP request sent, awaiting response... <span class="dv">200</span> OK
Length:<span class="st"> </span><span class="dv">36304754</span> (35M) [application/x-deb]
Saving to:<span class="st"> &#39;rstudio-server-0.98.1103-amd64.deb&#39;</span>

<span class="dv">100</span>%[==<span class="er">========================================================&gt;</span>] <span class="dv">36</span>,<span class="dv">304</span>,<span class="dv">754</span>  <span class="fl">19.</span>5MB/s   in <span class="fl">1.</span>8s

<span class="dv">2015-05-22</span> <span class="dv">03</span>:<span class="dv">42</span>:<span class="dv">31</span> (<span class="fl">19.5</span> MB/s) -<span class="st"> &#39;rstudio-server-0.98.1103-amd64.deb&#39;</span> saved [<span class="dv">36304754</span>/<span class="dv">36304754</span>]

root@shiny-sl:<span class="er">~</span><span class="co"># sudo gdebi rstudio-server-0.98.1103-amd64.deb</span></code></pre></div>
<h3 id="connect-to-rstudio-ide">3.3.1 <code>RStudio</code> IDE 접속</h3>
<p>이제 웹브라우져를 열고 <strong>포트번호(port, 8787)</strong>를 뒤에 <code>:8787</code>을 붙여 <code>http://169.53.232.11:8787/</code>와 같이 입력하면 <code>Sign in to RStudio</code> 화면에 사용자명(<code>username:</code>)과 비밀번호(<code>Password:</code>)를 넣고 <code>Sign In</code>하라고 한다. 절대 <code>root</code>권한을 가지고 로그인하면 들어가지 않는다. <code>root</code>권한을 가지고 사용자를 추가한 후에 추가된 사용자명을 가지고 로그인한다. <a href="http://linux.die.net/man/8/useradd">useradd</a>를 통해서 사용자 추가를 추가하고, <a href="http://linux.die.net/man/8/userdel">userdel</a>을 통해서 사용자를 삭제한다. <code>adduser</code> 혹은 <code>useradd</code> 동일한 명령어다. <code>xwmooc</code> 사용자를 <code>sudo useradd -m xwmooc</code> 혹은 <code>sudo adduser -m xwmooc</code> 명령어로 설정했으니, 다음올 비밀번호를 설정한다. <code>sudo passwd xwmooc</code> 비밀번호를 두번 입력하게 되면 설정이 완료되었다.</p>
<p><strong>주의</strong>: <code>sudo useradd -m xwmooc</code> 명령어에서 <code>-m</code> 옵션 플래그는 홈디렉토리를 생성하게 만든다. 그래야지만 정상적으로 <code>RStudio</code> 작업이 가능하다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">root@shiny-sl:<span class="er">~</span><span class="co"># sudo useradd -m xwmooc</span>
root@shiny-sl:<span class="er">~</span><span class="co"># sudo adduser -m xwmooc</span>
adduser:<span class="st"> </span>The user <span class="st">`</span><span class="dt">xwmooc&#39; already exists.</span>
<span class="dt">root@shiny-sl:~# sudo passwd xwmooc</span>
<span class="dt">Enter new UNIX password:</span>
<span class="dt">Retype new UNIX password:</span>
<span class="dt">passwd: password updated successfully</span>
<span class="dt">root@shiny-sl:~#</span></code></pre></div>
<p>이제 <code>RStudio</code>를 사용하기 위해서 <code>http://169.53.232.11:8787/</code> 사이트에서 사용자명 <code>xwmooc</code>를 넣고 비밀번호를 입력하게 되면 <code>RStudio</code>를 사용할 수 있게 된다.</p>
<p><img src="fig/toolchain-shiny-rstudio-install.png" alt="RStudio IDE 서버 설치 화면" width="30%" /></p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="http://askubuntu.com/questions/614530/how-to-install-latest-version-of-r-on-ubuntu-12-04-lts">How to install latest version of R on Ubuntu 12.04 LTS? [duplicate]</a><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-r-on-ubuntu-16-04-2">DigitalOcean - How To Install R on Ubuntu 16.04</a><a href="#fnref2">↩</a></p></li>
</ol>
</div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
